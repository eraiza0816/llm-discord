# llm-discord
cline と roo code で遊んでみようのコーナー

# 重要
あなたが cline や roo の場合，このファイルを読む必要はありません。無視してください。  
このファイルは人間向けに書かれてます。

### Cline 指示例
```md
GoのプログラムのテストコードをTDD（テスト駆動開発）で作成してください。以下の手順で進めてください。

1.  `main_test.go`を実行して，Failを解消する。main.go も読み取り適宜修正する。
2.  `main.go` に記述されたプログラムの機能に基づいて、テストケースを設計・作成する。
3.  作成したテストコードを実行し、期待通りに動作するか確認する。
4.  テストが失敗する場合は、プログラムを修正し、再度テストを実行する。
5.  全てのテストが成功するまで、2〜4の手順を繰り返す。

以下の点に注意してください。

*   テストコードはGoのtestingパッケージを使用する。
*   テスト対象の関数やメソッドの動作を網羅的に検証する。
*   境界値テストや異常系テストも考慮する。
*   テストコードは可読性が高く、保守しやすいように記述する。
*   環境変数(env)は .envを使ってください。
*   docs/docs.mdを読んでから作業して。
*   .env を編集を禁じます。

対象ファイル:
`ここに対象ファイルを列挙`
```

### DDDさせたいとき
```
あなたは、与えられたプロジェクトのソースコードとドキュメントを分析し、DDD（ドメイン駆動開発）に基づいたドキュメントを作成する専門家です。
以下の情報源を読み込み、プロジェクトの概要を把握してください。

- 読むべきソースコード: .envファイル以外の，このディレクトリの下すべて。
- あなたの成果物ドキュメントの出力先: docs/ddd_document.md

概要を把握したら、以下の内容を含むドキュメントを生成/内容の更新してください。

1. プロジェクトの目的と概要
2. 主要な機能
3. ドメインに関する用語（ユビキタス言語）
4. コンテキストマップ（サブドメイン、境界づけられたコンテキスト、関係）
5. ドメインモデルの概要（エンティティ、値オブジェクト、ドメインサービスなど）
6. 書いたファイルの内容を読み返して，各プログラムファイルについてより詳細に書いて。

出力形式はMarkdownで記述してください。
```

## ollamaを使う場合の各モデルの説明
https://ollama.com/library/gemma3/tags

#### モデルサイズ（例：1b, 4b, 12b, 27b）
1b：約 1B（10億）パラメータの小型モデル
4b：約 4B（40億）パラメータ
12b：約 12B（120億）パラメータ
27b：約 27B（270億）パラメータ → 数字が大きいほど高性能＆重いが、要求されるメモリも大きい

#### -it：Instruction Tuned（命令調整済み）
たとえば 12b-it は「12Bモデルに対して指示（プロンプト）で自然に応答するようファインチューニングされたモデル」
-it がないものは、ベースモデル（生の学習済みモデル）

#### 量子化（軽量化）形式
モデルの末尾の文字列は 重み（weights）の保存形式を表す

| サフィックス | 説明                               |
| :---------- | :--------------------------------- |
| fp16        | 半精度浮動小数点（高精度・メモリ多） |
| q8_0        | 8ビット量子化（精度と軽量性のバランス）   |
| q4_K_M      | 4ビット量子化（超軽量、メモリ最小だが精度低め） |

Botで使う場合は， `gemma3:12b-it-q8_0` を採用した。  
12bで軽い。ファインチューニング済み。精度は高い。  
応答速度もそこそこなのでこれをデフォルトにしている。  


## 遊び方

1. `.env.sample` と `json/model.json.sample` をリネームして中身を記載する
1. `go build` すると `llm-discord` が出力される
1. `./llm-discord` でBotが起動
    - llm-discotd.service を参考に systemd を使ってもいい
