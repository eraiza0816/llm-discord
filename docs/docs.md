# プロジェクト概要

## プロジェクトの目的と概要

このプロジェクトは、Discord上でGemini APIを利用したチャットボットを提供するものです。
ユーザーはDiscordのスラッシュコマンドを通じてチャットボットと対話し、様々な質問や相談を行うことができます。

## 主要な機能

*   Discordのスラッシュコマンド`/chat`を通じて、ユーザーがチャットボットと対話できる。
*   `/reset`コマンドでチャット履歴をリセットできる。
*   ユーザーごとのチャット履歴を保持し、会話の流れを維持する。
*   JSONファイルからモデル名やプロンプトを読み込む。

## ドメインに関する用語（ユビキタス言語）

*   Chat: チャットボットの主要な機能を提供する構造体。
*   JsonLoader: JSONファイルを読み込むための構造体。
*   ModelLoad: モデルに関する情報をJSONファイルから読み込むための構造体。
*   DiscordBotToken: Discordボットの認証トークン。
*   GeminiAPIKey: Gemini APIの認証キー。
*   userHistories: ユーザーごとのチャット履歴を保存するマップ。
*   prompt: チャットボットの応答を制御するためのプロンプト。

## コンテキストマップ

*   サブドメイン: チャットボット、JSONローダー、モデルローダー
*   境界づけられたコンテキスト:
    *   Discordとのインタラクション (discordgo)
    *   Gemini APIとのインタラクション (genai)
    *   JSONファイルからの設定読み込み
*   関係:
    *   DiscordボットがGemini APIを利用して応答を生成する。
    *   JSONローダーが設定ファイルを提供し、チャットボットの動作を制御する。

## ドメインモデルの概要

*   エンティティ:
    *   Chat: ユーザーとの対話の状態を管理する。
*   値オブジェクト:
    *   Config: 設定値を保持する。
*   ドメインサービス:
    *   GetResponse: ユーザーのメッセージに対する応答を生成する。
    *   ClearHistory: ユーザーのチャット履歴を消去する。